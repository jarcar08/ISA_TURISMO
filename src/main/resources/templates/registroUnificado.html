<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<link rel="icon" type="image/png" href="/img/favicon.ico">
<title>Registrate</title>
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
<style>
body {
	background-color: #f8f9fa;
}

.register-container {
	min-height: 100vh;
	display: flex;
	align-items: center;
	justify-content: center;
}

.card {
	padding: 2rem;
	border-radius: 1rem;
	box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
	width: 100%;
	max-width: 700px;
}
</style>
</head>
<body>
	<div class="register-container">
		<div class="card">
			<h2 class="mb-4">Registrate</h2>
			<p class="text-muted">Es rápido y fácil.</p>

			<!-- th:object hace que *{...} apunte a persona -->
			<form th:action="@{/registro}" th:object="${persona}" method="post">
				<div class="row">
					<!-- DNI -->
					<div class="col-md-6 mb-3">
						<input type="text" class="form-control" th:field="*{perDni}"
							placeholder="DNI *" required maxlength="8">
					</div>

					<!-- Apellido Paterno -->
					<div class="col-md-6 mb-3">
						<input type="text" class="form-control"
							th:field="*{perApellidoPaterno}" placeholder="Apellido Paterno *"
							required>
					</div>

					<!-- Apellido Materno -->
					<div class="col-md-6 mb-3">
						<input type="text" class="form-control"
							th:field="*{perApellidoMaterno}" placeholder="Apellido Materno *"
							required>
					</div>

					<!-- Nombres -->
					<div class="col-md-6 mb-3">
						<input type="text" class="form-control" th:field="*{perNombres}"
							placeholder="Nombres *" required>
					</div>

					<!-- Correo -->
					<div class="col-md-6 mb-3">
						<input type="email" class="form-control" th:field="*{perCorreo}"
							placeholder="Correo electrónico *" required>
					</div>

					<!-- Tipo Pasajero -->
					<div class="col-md-6 mb-3">
						<select class="form-select" th:field="*{tipopasajero}" required>
							<option value="">-- Tipo de pasajero * --</option>
							<option th:each="tp : ${listaPasajero}" th:value="${tp.tpId}"
								th:text="${tp.tpNombre}"></option>
						</select>
					</div>

					<!-- Contraseña -->
					<div class="col-md-12 mb-4">
						<div class="input-group">
							<input type="password" class="form-control"
								name="usuario.usuContrasenia" id="password"
								placeholder="Contraseña *" required>
							<button class="btn btn-outline-secondary" type="button"
								id="togglePassword">
								<i class="bi bi-eye" id="iconPassword"></i>
							</button>
						</div>
					</div>

					<!-- Botón de Registro -->
					<div class="d-grid gap-2">
						<button type="submit" class="btn btn-success">Guardar</button>
					</div>

					<!-- Aviso -->
					<p class="text-muted mt-3" style="font-size: 0.9em;">Al hacer
						clic en "Guardar", aceptas nuestras Condiciones, la Política de
						privacidad y la Política de cookies.</p>

					<p class="mt-3">
						¿Ya tienes una cuenta? <a th:href="@{/login}">Inicia sesión</a>
					</p>
			</form>
		</div>
	</div>

	<script>
  const togglePassword = document.getElementById("togglePassword");
  const password = document.getElementById("password");
  const icon = document.getElementById("iconPassword");

  togglePassword.addEventListener("click", () => {
    const type = password.getAttribute("type") === "password" ? "text" : "password";
    password.setAttribute("type", type);
    icon.classList.toggle("bi-eye");
    icon.classList.toggle("bi-eye-slash");
  });
</script>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>